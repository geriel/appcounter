{
  "name": "grunt-vtex-deploy",
  "description": "VTEX deploy for front end projects",
  "version": "0.7.2",
  "homepage": "https://github.com/vtex/grunt-vtex-deploy",
  "author": {
    "name": "Guilherme Rodrigues",
    "email": "gadr90@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/vtex/grunt-vtex-deploy.git"
  },
  "bugs": {
    "url": "https://github.com/vtex/grunt-vtex-deploy/issues"
  },
  "licenses": [
    {
      "type": "MIT"
    }
  ],
  "main": "Gruntfile.js",
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "devDependencies": {
    "grunt-contrib-coffee": "~0.7.0",
    "grunt-contrib-clean": "~0.4.0",
    "grunt-contrib-nodeunit": "~0.2.0",
    "grunt": "~0.4.1"
  },
  "peerDependencies": {
    "grunt": "~0.4.1"
  },
  "keywords": [
    "gruntplugin"
  ],
  "dependencies": {
    "intimidate": "~0.1.2",
    "version-map": "~0.1.0"
  },
  "readme": "# grunt-vtex-deploy\n\n> VTEX Deploy for front end projects\n\n## Getting Started\nThis plugin requires Grunt `~0.4.1`\n\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n\n```shell\nnpm install grunt-vtex-deploy --save-dev\n```\n\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\n\n```js\ngrunt.loadNpmTasks('grunt-vtex-deploy');\n```\n\n## The \"vtex_deploy\" task\n\n### Overview\nIn your project's Gruntfile, add a section named `vtex_deploy` to the data object passed into `grunt.initConfig()`.\n\n```js\ngrunt.initConfig({\n  vtex_deploy: {\n    options: {\n      // Task-specific options go here.\n    },\n    your_target: {\n      // Target-specific file lists and/or options go here.\n    },\n  },\n})\n```\n\n### Deployment build\n\n    DEPLOY_ENV=beta GIT_COMMIT=`git rev-parse --verify HEAD` grunt deploy\n\nHave a look at the newly created deploy/spdbg-01-00-00-1-stable/index.html file.\n\n\n### Quick deploy explanation\n\n- The first step is compiling your assets (coffee/LESS) to the `build` folder (`gen-commit` task).\n- Then, tests are run, ensuring your app is OK (`karma-deploy` task).\n- Thirdly, your app is copied to a commit folder.\nThis folder should have all variable tags in the form \"&lt;%=@VARIABLE%&gt;\".\nUse the `string-replace:commit` task to replace anything else you need!\nThis folder serves as a cache on the build server - the same commit should never be built twice!\n- Finally, a version folder is generated, replacing all variable tags for correct values (`gen-version` task).\n\n### Interesting options\n\n#### options.tempDirectory:\nDefault value: \"./tmp-deploy/\"\n\n#### options.requireEnvironmentType:\nDefault value: process.env[\"ENVIRONMENT_TYPE\"]  \nIf you need a target to only run in a given environment type (e.g., stable).\n\n#### options.bucket:\nDefault value: \"vtex-io\"  \nThe bucket to which your files will be uploaded.\n\n#### options.buildDirectory:\nDefault value: \"build\"  \nThe directory where your app's files can be found ready for deploy.\n\n#### options.whoamiPath:\nDefault value: false  \nPath to `whoami` file. You should point one if you need to be deployed inside a router container.\n\n#### options.indexPath:\nDefault value: false  \nPath to `index.html` file. You should point one if you need to be deployed inside a router container.\n\n#### options.indexOnRoot:\nDefault value: false  \nWheter your index.html should also be uploaded to the root of your application's directory (e.g. `s3://bucket/yourapp/index.html`)\n\n#### options.includeHostname:\nDefault value:\n\n    src: true\n    href: true\n    versionDirectory: true\n    hostname: null\n    files: []\n  \nConveniently replace special parts of your `files` with hostname and version directory.  \nIf `src` is `true`, will replace `src=\"myfile.js\"` with `src=\"//HOSTNAME/myapp/v01-00-00-stable-1/myfile.js\"`. Same for `href`.  \nIf versionDirectory is true, will replace the special `VERSION_DIRECTORY` variable with your app's directory name, e.g. `myapp/v01-00-00-stable-1/`. *Includes trailing slash*.\n\n### Usage Examples\n\n    vtex_deploy: {\n      main: {\n        options: {\n          indexPath: 'build/index.html',\n          whoamiPath: 'whoami',\n          includeHostname: {\n            hostname: 'io.vtex.com.br',\n            files: [\"build/index.html\", \"build/test1\"]\n          }\n        }\n      },\n      walmart: {\n        options: {\n          buildDirectory: 'build-raw',\n          bucket: 'vtex-io-walmart',\n          requireEnvironmentType: 'stable',\n          indexPath: 'build-raw/index.html',\n          indexOnRoot: true,\n          includeHostname: {\n            hostname: 'VTEX_IO_HOST',\n            files: [\"build-raw/index.html\", \"build-raw/test1\"]\n          }\n        }\n      }\n    }\n\n## Contributing\nIn lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [Grunt](http://gruntjs.com/).\n\n## Release History\n_(Nothing yet)_\n",
  "readmeFilename": "README.md",
  "_id": "grunt-vtex-deploy@0.7.2",
  "_from": "grunt-vtex-deploy@~0.7.2"
}
